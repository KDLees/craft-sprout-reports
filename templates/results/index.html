{% extends "sproutreports/_layouts/base" %}

{% set title  = craft.sproutReports.name|t %}
{% set groups = craft.sproutReports.getReportGroups() %}

{% set tabs = {
	reports: {
		label: "Reports"|t,
		url: url('sproutreports')
	},
	dataSources: {
		label: "Data Sources"|t,
		url: url('sproutreports/datasources/index')
	},
	resultView: {
		label: "Results",
		url: "#results"
	}
} %}

{% set selectedTab = 'resultView' %}

{% block content %}
	<div class="meta">
		<h2>{{ report.name|t }}</h2>
		<p>{{ report.description|t }}</p>
	</div>
	<div class="tableview">
		{% if values is defined and values is iterable and values|length %}
			<div class="tablecontent">
				<table class="data fullwidth results">
					<thead>
						<tr>
							{% for label in labels %}
								<th>
									<div {% if loop.index == "1" %}class="first"{% endif %}><h3>{{ label }}</h3></div>
								</th>
							{% endfor %}
						</tr>
					</thead>
					<tbody>
						{% for value in values %}
							<tr class="table_row">
								{% for property in value %}
									<td>
										<div class="item_content">{{ property|raw }}</div>
									</td>
								{% endfor %}
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		{% else %}
			<h2>The report yielded no results.</h2>
		{% endif %}
		<hr>
	</div>

{% endblock %}

{% includeCssResource 'sproutreports/css/styles.css' %}
