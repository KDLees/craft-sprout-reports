{% extends "craftdiscover/_inc/boilerplate" %}

{% set selectedTab = 'users' %}

{% set content %}

{% import "_includes/forms" as forms %}
{% if queryText is not defined %}{% set queryText = null %}{% endif %}
{% if isUsersQuery is not defined %}{% set isUsersQuery = null %}{% endif %}
{% if myEntries is not defined %}{% set myEntries = null %}{% endif %}
{% if tableCols is not defined %}{% set tableCols = null %}{% endif %}

<form method="post" action="" accept-charset="UTF-8">
        <input type="hidden" name="action" value="craftDiscover/reports/createQuery" />
        <input type="hidden" name="isUsersQuery" value="TRUE" />


        <div class="buttons">
            <input type="submit" class="btn submit" name="show" value="{{ 'Get User Data'|t }}">
            <label style="display: inline-block; width: auto; margin-left: 1em;"><input type="checkbox" name="exportData" value="Y" /> Export as CSV?</label>
        </div>
    </form>

<div class="tableview">
    <table class="data">
        <thead>
            <tr>
        {% for item in tableCols %}
        <th>{{ item }}</th>
        {% endfor %}
    </tr>
</thead>
<tbody>
        {% for item in myEntries %}
        {% for row in myEntries %}
        <tr>
            {% for keyname in tableCols %}
                <td>{{ row[keyname]|raw }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
        {% endfor %}
    </table>
</div>
{% endset %}
